#! /bin/bash
#
# Sets a random wallpaper from Unsplash.it every x seconds.
# Defaults to an hour.

echoerr() { echo "$@" >&2; }

wal_dir=~/.cache/randwald
cur_wal="$wal_dir/cur_wal.jpg"
mkdir -p "$wal_dir"

while true; do
    rm -rf $cur_wal

    curl -sSL https://source.unsplash.com/random/1920x1080 > "$cur_wal"
    feh --bg-scale --no-xinerama "$cur_wal" 

    sleep ${1:-3600} &
    wait $!
done
